"use strict";(self.webpackChunktardito_dev=self.webpackChunktardito_dev||[]).push([[7883],{3905:(e,t,n)=>{n.d(t,{Zo:()=>p,kt:()=>h});var r=n(7294);function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function o(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var l=r.createContext({}),c=function(e){var t=r.useContext(l),n=t;return e&&(n="function"==typeof e?e(t):s(s({},t),e)),n},p=function(e){var t=c(e.components);return r.createElement(l.Provider,{value:t},e.children)},u={inlineCode:"code",wrapper:function(e){var t=e.children;return r.createElement(r.Fragment,{},t)}},m=r.forwardRef((function(e,t){var n=e.components,i=e.mdxType,a=e.originalType,l=e.parentName,p=o(e,["components","mdxType","originalType","parentName"]),m=c(n),h=i,d=m["".concat(l,".").concat(h)]||m[h]||u[h]||a;return n?r.createElement(d,s(s({ref:t},p),{},{components:n})):r.createElement(d,s({ref:t},p))}));function h(e,t){var n=arguments,i=t&&t.mdxType;if("string"==typeof e||i){var a=n.length,s=new Array(a);s[0]=m;var o={};for(var l in t)hasOwnProperty.call(t,l)&&(o[l]=t[l]);o.originalType=e,o.mdxType="string"==typeof e?e:i,s[1]=o;for(var c=2;c<a;c++)s[c]=n[c];return r.createElement.apply(null,s)}return r.createElement.apply(null,n)}m.displayName="MDXCreateElement"},7346:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>l,contentTitle:()=>s,default:()=>u,frontMatter:()=>a,metadata:()=>o,toc:()=>c});var r=n(7462),i=(n(7294),n(3905));const a={sidebar_position:19},s="Connecting to the Server",o={unversionedId:"angular/server",id:"angular/server",title:"Connecting to the Server",description:"Like all front-end development libraries, communication with the back end is a fundamental part of them. There are different approaches in Angular, but certainly, the most used one is HTTP communication where the client communicates with the server through requests that are processed by the server, which responds by sending the result back to the client that made the request.",source:"@site/docs/angular/server.md",sourceDirName:"angular",slug:"/angular/server",permalink:"/docs/angular/server",draft:!1,tags:[],version:"current",sidebarPosition:19,frontMatter:{sidebar_position:19},sidebar:"tutorialSidebar",previous:{title:"The Material Library",permalink:"/docs/angular/material"},next:{title:"Build",permalink:"/docs/angular/build"}},l={},c=[],p={toc:c};function u(e){let{components:t,...n}=e;return(0,i.kt)("wrapper",(0,r.Z)({},p,n,{components:t,mdxType:"MDXLayout"}),(0,i.kt)("h1",{id:"connecting-to-the-server"},"Connecting to the Server"),(0,i.kt)("p",null,"Like all front-end development libraries, communication with the back end is a fundamental part of them. There are different approaches in Angular, but certainly, the most used one is HTTP communication where the client communicates with the server through requests that are processed by the server, which responds by sending the result back to the client that made the request."),(0,i.kt)("p",null,"Angular provides an HttpClient service that simplifies HTTP calls to the server. We can use this service to make various types of HTTP requests (GET, POST, PUT, DELETE)."),(0,i.kt)("p",null,"Let's start by importing the ",(0,i.kt)("inlineCode",{parentName:"p"},"HttpClientModule")," module into our app module:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-ts"},"import { HttpClientModule } from '@angular/common/http';\n")),(0,i.kt)("p",null,"And include it in the imports array."),(0,i.kt)("p",null,"Let's begin modifying our ",(0,i.kt)("inlineCode",{parentName:"p"},"missili")," service. We'll remove the ",(0,i.kt)("inlineCode",{parentName:"p"},"missili")," array because we want to retrieve this information through a GET HTTP request from SpaceX's server via a public API."),(0,i.kt)("p",null,"First, inject the ",(0,i.kt)("inlineCode",{parentName:"p"},"HttpClient")," service in the constructor so that we can use it:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-diff"},"constructor(private http: HttpClient) { }\n")),(0,i.kt)("p",null,"Then, utilize it in the ",(0,i.kt)("inlineCode",{parentName:"p"},"getMissili")," function like this:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-ts"},"getMissili(): Observable<Missile[]> {\n  return this.http.get<Missile[]>('https://api.spacexdata.com/v4/rockets')\n}\n")),(0,i.kt)("p",null,"As you can see, we're calling the ",(0,i.kt)("inlineCode",{parentName:"p"},"get")," method from the ",(0,i.kt)("inlineCode",{parentName:"p"},"http")," service and informing it about our expected response type, which is ",(0,i.kt)("inlineCode",{parentName:"p"},"Missile[]"),". We pass the API's URL to execute the request."),(0,i.kt)("p",null,"Now, we see that we have an error. The ",(0,i.kt)("inlineCode",{parentName:"p"},"getMissili")," function no longer returns an array of missiles as before; instead, it returns what Angular calls an ",(0,i.kt)("inlineCode",{parentName:"p"},"Observable"),"."),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-diff"},"- getMissili(): Missile[] {\n+ getMissili(): Observable<Missile[]> {\n")),(0,i.kt)("p",null,"But what is an Observable? This is where we need to talk about RXJS:"),(0,i.kt)("h1",{id:"rxjs-reactive-javascript"},"RXJS: Reactive JavaScript"),(0,i.kt)("p",null,"RxJS (Reactive Extensions for JavaScript) is a widely used JavaScript library for reactive programming and handling asynchronous data streams. In Angular, RxJS is an integral part of the framework and is used for managing events, HTTP calls, data streams, and other asynchronous operations. The fundamental concepts are as follows:"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("p",{parentName:"li"},(0,i.kt)("strong",{parentName:"p"},"Observable"),": An Observable is a sequence of values that can be emitted over time. Observables are used to represent asynchronous data streams, such as DOM events, HTTP requests, or real-time data from WebSockets. You can think of Observables as a pipeline of data.")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("p",{parentName:"li"},(0,i.kt)("strong",{parentName:"p"},"Subscription"),": A Subscription represents the connection between an Observable and an Observer. When you subscribe to an Observable, a Subscription is created. You can use a Subscription to manage resources and free up resources when they are no longer needed. For example, you can unsubscribe from a Subscription to stop listening to an Observable."))),(0,i.kt)("p",null,"Returning to our ",(0,i.kt)("inlineCode",{parentName:"p"},"getMissili")," function, we see that we have specified that it returns an Observable, which in turn will return an array of missiles. This means that, unlike before, where we immediately had the array of missiles when calling the ",(0,i.kt)("inlineCode",{parentName:"p"},"getMissili")," function, this time we need to wait for the server's response, which could take a few seconds. Since we don't want to block the entire browser while waiting for the response, we decide to use asynchronous code and RxJS to react to changes."),(0,i.kt)("p",null,"Now, let's remember that ",(0,i.kt)("inlineCode",{parentName:"p"},"this.missiliService.getMissili()")," is an Observable. With Observables, we can subscribe to receive information reactively. That's precisely what we're doing in this new line of code where we specify a function to execute when receiving something from the Observable. In this case, when we receive missiles, we want to assign them to our ",(0,i.kt)("inlineCode",{parentName:"p"},"missili")," property."),(0,i.kt)("p",null,"We do the same thing in the ",(0,i.kt)("inlineCode",{parentName:"p"},"missile-info")," component:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-diff"},"getMissile() {\n    const id = this.route.snapshot.paramMap.get('id');\n-   return this.missiliService.getMissili().find(missile => missile.id === id)\n+   this.missiliService.getMissili().subscribe(missili =>  this.missile = missili.find(missile => missile.id === id))\n  }\n\n  ngOnInit(): void {\n-   this.missile = this.getMissile();\n+   this.getMissile();\n  }\n")),(0,i.kt)("p",null,"Now, we should be able to see a list of components with real missiles coming from SpaceX's server."),(0,i.kt)("admonition",{type:"info"},(0,i.kt)("p",{parentName:"admonition"},"Did you miss something? ",(0,i.kt)("a",{parentName:"p",href:"https://github.com/lucatardi/spazio/commit/632bf7ab41cb2b839e3a31289e3ba2a38dad33ec?diff=split"},"Here")," is the code for this lesson.")))}u.isMDXComponent=!0}}]);
"use strict";(self.webpackChunktardito_dev=self.webpackChunktardito_dev||[]).push([[823],{3905:(e,i,n)=>{n.d(i,{Zo:()=>p,kt:()=>d});var t=n(7294);function a(e,i,n){return i in e?Object.defineProperty(e,i,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[i]=n,e}function l(e,i){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);i&&(t=t.filter((function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable}))),n.push.apply(n,t)}return n}function o(e){for(var i=1;i<arguments.length;i++){var n=null!=arguments[i]?arguments[i]:{};i%2?l(Object(n),!0).forEach((function(i){a(e,i,n[i])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))}))}return e}function r(e,i){if(null==e)return{};var n,t,a=function(e,i){if(null==e)return{};var n,t,a={},l=Object.keys(e);for(t=0;t<l.length;t++)n=l[t],i.indexOf(n)>=0||(a[n]=e[n]);return a}(e,i);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(t=0;t<l.length;t++)n=l[t],i.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var s=t.createContext({}),m=function(e){var i=t.useContext(s),n=i;return e&&(n="function"==typeof e?e(i):o(o({},i),e)),n},p=function(e){var i=m(e.components);return t.createElement(s.Provider,{value:i},e.children)},c={inlineCode:"code",wrapper:function(e){var i=e.children;return t.createElement(t.Fragment,{},i)}},u=t.forwardRef((function(e,i){var n=e.components,a=e.mdxType,l=e.originalType,s=e.parentName,p=r(e,["components","mdxType","originalType","parentName"]),u=m(n),d=a,g=u["".concat(s,".").concat(d)]||u[d]||c[d]||l;return n?t.createElement(g,o(o({ref:i},p),{},{components:n})):t.createElement(g,o({ref:i},p))}));function d(e,i){var n=arguments,a=i&&i.mdxType;if("string"==typeof e||a){var l=n.length,o=new Array(l);o[0]=u;var r={};for(var s in i)hasOwnProperty.call(i,s)&&(r[s]=i[s]);r.originalType=e,r.mdxType="string"==typeof e?e:a,o[1]=r;for(var m=2;m<l;m++)o[m]=n[m];return t.createElement.apply(null,o)}return t.createElement.apply(null,n)}u.displayName="MDXCreateElement"},3028:(e,i,n)=>{n.r(i),n.d(i,{assets:()=>s,contentTitle:()=>o,default:()=>c,frontMatter:()=>l,metadata:()=>r,toc:()=>m});var t=n(7462),a=(n(7294),n(3905));const l={sidebar_position:14},o="Le direttive",r={unversionedId:"angular/directives",id:"angular/directives",title:"Le direttive",description:"Possiamo definire le direttive in Angular come proprieta' speciali che possono essere utilizzate per inserire logica nei nostri template.",source:"@site/i18n/it/docusaurus-plugin-content-docs/current/angular/directives.md",sourceDirName:"angular",slug:"/angular/directives",permalink:"/it/docs/angular/directives",draft:!1,tags:[],version:"current",sidebarPosition:14,frontMatter:{sidebar_position:14},sidebar:"tutorialSidebar",previous:{title:"Una lista di missili",permalink:"/it/docs/angular/rockets-list"},next:{title:"React",permalink:"/it/docs/category/react"}},s={},m=[{value:"La direttiva ngIf",id:"la-direttiva-ngif",level:3},{value:"La direttiva ngFor",id:"la-direttiva-ngfor",level:3}],p={toc:m};function c(e){let{components:i,...n}=e;return(0,a.kt)("wrapper",(0,t.Z)({},p,n,{components:i,mdxType:"MDXLayout"}),(0,a.kt)("h1",{id:"le-direttive"},"Le direttive"),(0,a.kt)("p",null,"Possiamo definire le direttive in Angular come proprieta' speciali che possono essere utilizzate per inserire logica nei nostri template.\nCi sono diverse direttive in Angular ma le principali sono due:\nLa direttiva ",(0,a.kt)("inlineCode",{parentName:"p"},"ngFor")," e la direttiva ",(0,a.kt)("inlineCode",{parentName:"p"},"ngIf"),"."),(0,a.kt)("h3",{id:"la-direttiva-ngif"},"La direttiva ngIf"),(0,a.kt)("p",null,"Permette di specificare una condizione logica per istruire Angular di caricare o meno l'elemento al quale la direttica e' applicata.\nMettiamo il caso di avere il seguente codice:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-html"},"<div>\n  <h3>\n    I pinguini\n  </h3>\n  <p>I pinguini sono uccelli che non sanno volare<p>\n</div>\n")),(0,a.kt)("p",null,"Ora mettiamo il caso di volere caricare questo ",(0,a.kt)("inlineCode",{parentName:"p"},"<div>"),' ed il suo contenuto solo quando la variabile animale e\' uguale a "pinguino":'),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-html"},"<div *ngIf=\"animale === 'pinguino'\">\n  <h3>\n    I pinguini\n  </h3>\n  <p>I pinguini sono uccelli che non sanno volare<p>\n</div>\n")),(0,a.kt)("p",null,"Angular carichera' questo HTML solo quando la variabile ",(0,a.kt)("inlineCode",{parentName:"p"},"animale")," avra' il valore ",(0,a.kt)("inlineCode",{parentName:"p"},'"pinguino"'),"."),(0,a.kt)("h3",{id:"la-direttiva-ngfor"},"La direttiva ngFor"),(0,a.kt)("p",null,"Utilizzata per caricare un determinato elemento ed il suo contenuto un numero definito di volte.\nLa sintassi e' simile a quella della direttiva precedente ma in questo caso invece di una condizione si itera all'interno di una variabile:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-html"},'<ul>\n  <li *ngFor="let specie of speciePinguini">\n    <p>{{specie}}</p>\n  </li>\n</div>\n')),(0,a.kt)("p",null,"Mettiamo il caso di avere il valore ",(0,a.kt)("inlineCode",{parentName:"p"},"speciePinguini")," definito nella classe come ",(0,a.kt)("inlineCode",{parentName:"p"},"['Magellano', 'Reale']")," il risultato finale caricato nel browser sara':"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-html"},"<ul>\n  <li>\n    <p>Magellano</p>\n  </li>\n  <li>\n    <p>Reale</p>\n  </li>\n</div>\n")),(0,a.kt)("p",null,"Mettiamo un po' in pratica le direttive partendo dal template del componente ",(0,a.kt)("inlineCode",{parentName:"p"},"missile"),". proviamo a rimuovere l'oggetto missile che abbiamo applicato:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-diff",metastring:'title="missile.component.ts"',title:'"missile.component.ts"'},"import { Component, Input } from '@angular/core';\nimport { Missile } from './missile';\n\n@Component({\n  selector: 'missile',\n  templateUrl: './missile.component.html',\n  styleUrls: ['./missile.component.css']\n})\nexport class MissileComponent {\n-  @Input() missile: Missile = { name: '', country: '', active: false}; \n+  @Input() missile?: Missile; \n}\n")),(0,a.kt)("p",null,"Non vogliamo infatti avere nessun missile con un ",(0,a.kt)("inlineCode",{parentName:"p"},"name")," o ",(0,a.kt)("inlineCode",{parentName:"p"},"country")," vuoto. Il punto di domanda che mettiamo prima dei due punti dice a typescript che il valore puo' essere ",(0,a.kt)("inlineCode",{parentName:"p"},"undefined")," oppure del tipo ",(0,a.kt)("inlineCode",{parentName:"p"},"Missile"),"."),(0,a.kt)("p",null,"In questo modo pero' notiamo che nel terminale compare ci notifica che:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-bash"},"\u2716 Failed to compile.\n")),(0,a.kt)("p",null,"Perche' la compilazione e' fallita? perche' ora che abbiamo cambiato la definizione del componente missile dicendo che un missile puo' anche essere ",(0,a.kt)("inlineCode",{parentName:"p"},"undefined")," Angular si lamenta del fatto che stiamo accedendo nel template ad un oggetto che potenzialmente puo' essere ",(0,a.kt)("inlineCode",{parentName:"p"},"undefined"),".\nPer risolvere questo problema possiamo inserire la direttiva ngIf nel template del componente missile in modo da caricare il template solo se le informazioni del missile sono disponibili:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-diff",metastring:'title="missile.component.html"',title:'"missile.component.html"'},"- <div class=\"card {{missile.active ? 'active' : 'inactive' }}\">\n+ <div *ngIf=\"missile\" class=\"card {{missile.active ? 'active' : 'inactive' }}\">\n")),(0,a.kt)("p",null,"Ecco che abbiamo risolto l'errore con un caricamento condizionato implementato con il semplice utilizzo della direttiva ngIf."),(0,a.kt)("p",null,"Ora mettiamo in pratica la direttiva ngFor:"),(0,a.kt)("p",null,"Spostiamoci nella definizione del componente listaMissili ed aggiungiamo altri due missili:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-diff",metastring:'title="lista-missili.component.ts"',title:'"lista-missili.component.ts"'},"{\n      name: 'BrahMos',\n      country: 'India',\n      active: false\n    },\n+   {\n+     name: 'Falcon 9',\n+     country: 'United States',\n+     active: true\n+   },\n+   {\n+     name: 'Ariane 5',\n+     country: 'France',\n+     active: true\n+   },\n   ]\n")),(0,a.kt)("p",null,"Ora in teoria quello che dobbiamo fare per visualizzare i due nuovi missili aggiunti  e' nel template aggiungere:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-html"},'<li>\n  <missile [missile]="missili[3]"></missile>\n</li>\n<li>\n  <missile [missile]="missili[4]"></missile>\n</li>\n')),(0,a.kt)("p",null,"Immaginiamo di aggiungere 1000 missili ora, come vediamo questo processo sembra molto manuale e ripetitivo ed infatti puo' essere automatizzato con ngFor in questo modo:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-diff",metastring:'title="lista-missili.component.html"',title:'"lista-missili.component.html"'},'- <h2>Ecco una elenco di 3 missili:</h2>\n+ <h2>Ecco una elenco di 5 missili:</h2>\n<ul class="list">\n-  <li>\n+  <li *ngFor="let missile of missili">\n-    <missile [missile]="missili[0]"></missile>\n-    <missile [missile]="missile"></missile>\n  </li>\n-  <li>\n-    <missile [missile]="missili[1]"></missile>\n-  </li>\n-  <li>\n-    <missile [missile]="missili[2]"></missile>\n-  </li>\n</ul>\n')),(0,a.kt)("p",null,"Ed ecco che ora abbiamo automatizzato la creazione di un ",(0,a.kt)("inlineCode",{parentName:"p"},"<li>")," elemento contentente un missile utilizzando la direttiva ngFor."),(0,a.kt)("p",null,"Come ultima cosa automatizziamo il numero di missili che appare nel titolo nel template della lista dei missili. utilizziamo la sintassi del property binding (",(0,a.kt)("inlineCode",{parentName:"p"},"{{}}"),") e la lunghezza dell'array missili."),(0,a.kt)("admonition",{type:"info"},(0,a.kt)("p",{parentName:"admonition"},"Persi all'ultimo passaggio? Trovate ",(0,a.kt)("a",{parentName:"p",href:"https://github.com/lucatardi/spazio/commit/a1af00aebd17812d3a5c24a1f7645fc6a46e9781?diff=split"},"qui")," il codice cambiato in questa lezione.")))}c.isMDXComponent=!0}}]);